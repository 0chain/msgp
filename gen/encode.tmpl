
// EncodeMsg encodes a {{.Value.Struct.Name}} as MessagePack to the supplied io.Writer, 
// returning the number of bytes written and any errors encountered
func ({{.Varname}} *{{.Value.Struct.Name}}) EncodeMsg(w io.Writer) (n int, err error) {
	en := enc.NewEncoder(w)
	return {{.Varname}}.EncodeTo(en)
}

// EncodeTo encodes a {{.Value.Struct.Name}} as MessagePack using the provided encoder, 
// returning the number of bytes written and any errors encountered
func ({{.Varname}} *{{.Value.Struct.Name}}) EncodeTo(en *enc.MsgWriter) (n int, err error) {
	var nn int 
	_ = nn

	{{template "PtrTempl" .}}
	return
}
